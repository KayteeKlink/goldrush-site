<!-- links -->
{% if site.locale and site.locale != "" and site.locale != nil %}
<section class="page-section" id="{{ site.data.sitetext[site.locale].links.section | default: " links" }}">
  <div class="container">

    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{ site.data.sitetext[site.locale].links.title | default: "links" }}
        </h2>
        {% if site.data.sitetext[site.locale].links.text %}
        <h3 class="section-subheading">{{ site.data.sitetext[site.locale].links.text }}</h3>
        {% endif %}
      </div>
    </div>

    <div id="upcoming-gigs"></div>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        fetch('https://rest.bandsintown.com/artists/15547753-goldrush/events?app_id=goldrushsite')
          .then(response => response.json())
          .then(data => {
            const gigsContainer = document.getElementById('upcoming-gigs');
            if(data.length === 0) {
              gigsContainer.innerHTML = '<p>No upcoming gigs.</p>';
            } else {
              data.forEach(event => {
                const eventElement = document.createElement('div');
                eventElement.innerHTML = `
                  <h3>${event.venue.name} - ${event.venue.city}, ${event.venue.country}</h3>
                  <p>${new Date(event.datetime).toDateString()}</p>
                  <a href="${event.url}" target="_blank">Buy Tickets</a>
                `;
                gigsContainer.appendChild(eventElement);
              });
            }
          })
          .catch(error => console.error('Error fetching gigs:', error));
      });
    </script>

    <div class="row d-flex justify-content-center" id="social-links">
      <ul class="list-inline social-buttons text-center">
        {% for network in site.data.sitetext[site.locale].links.sociallinks.social %}
        <li class="list-inline-item">
          <a href="{{ network.url }}">
            <i class="{{ network.icon }}"></i>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>

    <div class="row text-center">
      {% for link in site.data.sitetext[site.locale].links.list %}
      <div class="col-md-6">
        <span class="fa-stack fa-4x">
          <a href="{{ link.url }}">
            <i class="fas fa-circle fa-stack-2x text-primary"></i>
            <i class="{{ link.icon | default: " fas fa-shopping-cart" }} fa-stack-1x fa-inverse"></i>
          </a>
        </span>
        <h4 class="link-heading">{{ link.title | markdownify }}</h4>
        {% if link.desc %}<div class="text-muted">{{ link.desc | markdownify }}</div>{% endif %}
      </div>
      {% endfor %}
    </div>

  </div>
</section>
{% else %}
<section class="page-section" id="{{ site.data.sitetext.links.section | default: " links" }}">
  <div class="container">

    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{ site.data.sitetext.links.title | default: "links" }}</h2>
        {% if site.data.sitetext.links.text %}
        <h3 class="section-subheading text-muted">{{ site.data.sitetext.links.text }}</h3>
        {% endif %}
      </div>
    </div>

    <div class="row text-center">
      {% for link in site.data.sitetext.links.list %}
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="{{ link.icon | default: " fas fa-shopping-cart" }} fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="link-heading">{{ link.title | markdownify }}</h4>
        {% if link.desc %}<div class="text-muted">{{ link.desc | markdownify }}</div>{% endif %}
      </div>
      {% endfor %}
    </div>

  </div>
</section>
{% endif %}
<!-- End links -->